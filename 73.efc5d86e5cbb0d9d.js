"use strict";(self.webpackChunkfood_meter=self.webpackChunkfood_meter||[]).push([[73],{3073:(I,d,a)=>{a.r(d),a.d(d,{AuthModule:()=>v});var l=a(6895),e=a(4006),p=a(1635),m=a(3806),n=a(4650);let f=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[l.ez]}),t})();var h=a(5599),_=a(4859),u=a(9549),x=a(4144);let M=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-loading-spinner"]],decls:1,vars:0,consts:[[1,"lds-dual-ring"]],template:function(o,r){1&o&&n._UZ(0,"div",0)},styles:['.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:80px;height:80px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:64px;height:64px;margin:8px;border-radius:50%;border:6px solid #673ab7;border-color:#673ab7 transparent #673ab7 transparent;animation:lds-dual-ring 1.2s linear infinite}@keyframes lds-dual-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),t})();function C(t,i){1&t&&n._UZ(0,"app-loading-spinner",3)}function L(t,i){if(1&t){const o=n.EpF();n.TgZ(0,"p",10),n._uU(1,"Have no account? Go to "),n.TgZ(2,"a",11),n.NdJ("click",function(){n.CHM(o);const s=n.oxw(2);return n.KtG(s.handleToSignUp())}),n._uU(3,"Sign Up"),n.qZA()()}}function A(t,i){if(1&t){const o=n.EpF();n.TgZ(0,"p",10),n._uU(1,"Have the account? Go to "),n.TgZ(2,"a",11),n.NdJ("click",function(){n.CHM(o);const s=n.oxw(2);return n.KtG(s.handleToLogIn())}),n._uU(3,"Log In"),n.qZA()()}}function S(t,i){if(1&t){const o=n.EpF();n.TgZ(0,"form",4),n.NdJ("ngSubmit",function(){n.CHM(o);const s=n.oxw();return n.KtG(s.handleSubmitForm(s.authForm))}),n.TgZ(1,"mat-form-field",5)(2,"mat-label"),n._uU(3,"E-mail"),n.qZA(),n._UZ(4,"input",6),n.qZA(),n.TgZ(5,"mat-form-field",5)(6,"mat-label"),n._uU(7,"Password"),n.qZA(),n._UZ(8,"input",7),n.TgZ(9,"mat-error"),n._uU(10,"Min length 8 characters"),n.qZA()(),n.YNc(11,L,4,0,"p",8),n.YNc(12,A,4,0,"p",8),n.TgZ(13,"button",9),n._uU(14),n.qZA()()}if(2&t){const o=n.oxw();n.Q6J("formGroup",o.authForm),n.xp6(11),n.Q6J("ngIf",o.isLoginMode),n.xp6(1),n.Q6J("ngIf",!o.isLoginMode),n.xp6(1),n.Q6J("disabled",!o.authForm.valid),n.xp6(1),n.hij(" ",o.isLoginMode?"Log in":"Sign up"," ")}}function T(t,i){if(1&t&&(n.TgZ(0,"p",12),n._uU(1),n.qZA()),2&t){const o=n.oxw();n.xp6(1),n.Oqu(o.error)}}let Z=(()=>{class t{constructor(o,r){this._authService=o,this._router=r,this.isLoginMode=!1,this.isLoading=!1,this.error=null}ngOnInit(){this.isLoginMode=!0,this._formInitialization()}_formInitialization(){this.authForm=new e.cw({email:new e.NI("",[e.kI.required,e.kI.email]),password:new e.NI("",[e.kI.required,e.kI.minLength(8)])})}handleSubmitForm(o){if(!o.valid)return;const r=o.value.email,s=o.value.password;let c;this.isLoading=!0,c=this.isLoginMode?this._authService.login(r,s):this._authService.signup(r,s),c.subscribe(g=>{this.isLoading=!1,this._router.navigate(["/calculator"])},g=>{this.error=g,this.isLoading=!1}),o.reset()}handleToSignUp(){this.isLoginMode=!1}handleToLogIn(){this.isLoginMode=!0}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(h.e),n.Y36(p.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-auth"]],decls:5,vars:4,consts:[["class","loadingSpinner",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","errorMessage",4,"ngIf"],[1,"loadingSpinner"],[3,"formGroup","ngSubmit"],["appearance","outline"],["type","email","matInput","","formControlName","email"],["type","password","min","8","matInput","","formControlName","password"],["class","accMessage",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled"],[1,"accMessage"],[1,"link",3,"click"],[1,"errorMessage"]],template:function(o,r){1&o&&(n.TgZ(0,"h1"),n._uU(1),n.qZA(),n.YNc(2,C,1,0,"app-loading-spinner",0),n.YNc(3,S,15,5,"form",1),n.YNc(4,T,2,1,"p",2)),2&o&&(n.xp6(1),n.hij("",r.isLoginMode?"Log in":"Sign up"," "),n.xp6(1),n.Q6J("ngIf",r.isLoading),n.xp6(1),n.Q6J("ngIf",!r.isLoading),n.xp6(1),n.Q6J("ngIf",r.error&&!r.isLoading))},dependencies:[l.O5,_.lW,u.TO,u.KE,u.hX,x.Nt,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,M],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px;font-weight:200;padding:12px;margin:48px 0 0}[_nghost-%COMP%]   .loadingSpinner[_ngcontent-%COMP%]{margin:24px 0}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:24px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .accMessage[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#673ab7;font-weight:700;text-decoration:underline;cursor:pointer}[_nghost-%COMP%]   .errorMessage[_ngcontent-%COMP%]{padding:12px 24px;margin-top:24px;border:1px solid #f44336;border-radius:8px;background:#f44336;color:#fff}"]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[l.ez,m.q,e.UX,p.Bz.forChild([{path:"",component:Z}]),f,p.Bz]}),t})()}}]);